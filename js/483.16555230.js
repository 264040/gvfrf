"use strict";(self["webpackChunksupabase_app"]=self["webpackChunksupabase_app"]||[]).push([[483],{1483:function(t,s,a){a.r(s),a.d(s,{default:function(){return d}});var e=function(){var t=this,s=t._self._c;return s("div",{staticClass:"container mx-auto p-4"},[s("div",{staticClass:"navbar bg-base-100"},[s("div",{staticClass:"navbar-start"},[s("div",{staticClass:"dropdown"},[s("div",{staticClass:"btn btn-ghost btn-circle",attrs:{tabindex:"0",role:"button"},on:{click:t.addarticle}},[s("svg",{staticClass:"h-6 w-6",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"}},[s("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"}})]),s("span",{},[t._v("发布")])])])]),s("span",{staticClass:"btn btn-ghost text-xl"},[t._v("个人中心")]),s("div",{staticClass:"navbar-end"},[s("div",{staticClass:"flex-none"},[s("ul",{staticClass:"menu menu-horizontal px-1"},[s("li",[s("details",[s("summary",[t._v("主题")]),s("ul",{staticClass:"dropdown-right menu bg-base-100 rounded-box z-[1] w-52 p-2 shadow",attrs:{tabindex:"0"}},t._l(t.themes,(function(a){return s("input",{key:a,staticClass:"theme-controller btn btn-sm btn-block btn-ghost justify-start active:red",attrs:{type:"radio",name:"theme-dropdown","aria-label":a},domProps:{value:a,checked:!0},on:{change:function(s){return t.changeTheme(a)},click:function(s){return t.vuti(a)}}})})),0)])])])])])]),s("section",{staticClass:"card bg-base-100 shadow-xl p-6 mb-8"},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.user.Byah,expression:"user.Byah"}],staticClass:"flex items-center"},[s("img",{staticClass:"skeleton w-24 h-24 rounded-full mr-4",attrs:{src:t.user.Byavatar,alt:""}}),s("div",[s("h2",{staticClass:"text-2xl font-bold"},[t._v(t._s(t.user.Byname))]),s("p",{staticClass:"text-gray-500"},[t._v(t._s(t.user.Byemail))]),s("p",{staticClass:"mt-2"},[t._v(t._s(t.user.Byah))])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.user.Byah,expression:"user.Byah ? false : true"}],staticClass:"flex w-52 flex-col gap-4"},[t._m(0)])]),s("section",{staticClass:"grid grid-cols-1 md:grid-cols-2 gap-4"},[s("div",{staticClass:"card bg-base-100 shadow-lg p-4"},[s("h3",{staticClass:"card-title mb-2"},[t._v("编辑个人资料")]),s("p",{staticClass:"mb-4"},[t._v("更新您的个人信息和偏好")]),s("button",{staticClass:"btn btn-primary",on:{click:t.editProfile}},[t._v("Edit")])]),s("div",{staticClass:"card bg-base-100 shadow-lg p-4"},[s("h3",{staticClass:"card-title mb-2"},[t._v("更改密码")]),s("p",{staticClass:"mb-4"},[t._v("定期更新密码，以确保您的帐户安全")]),s("button",{staticClass:"btn btn-secondary",on:{click:t.changePassword}},[t._v("Change Password")])])]),s("div",{staticClass:"newacer grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mt-8"},t._l(t.posts,(function(a){return s("div",{key:a.id,staticClass:"card bg-base-100 image-full w-96 shadow-xl"},[s("figure",[s("img",{staticClass:"rounded-t-lg",attrs:{src:a.image,alt:"Blog post image"}})]),s("div",{staticClass:"card-body"},[s("h2",{staticClass:"card-title"},[t._v(t._s(a.title))]),s("p",{staticClass:"line-clamp-3"},[t._v(t._s(a.content))]),s("div",{staticClass:"card-actions justify-end"},[s("button",{staticClass:"btn btn-primary",on:{click:function(s){return t.viewPost(a)}}},[t._v("阅读更多")]),s("button",{staticClass:"btn btn-ghost",on:{click:function(s){return t.getIddel(a.art_uuid,t.user.Byid)}}},[t._v("Del")])])])])})),0),t.isAlertVisible?s("div",{staticClass:"toast toast-center toast-middle"},[t._m(1)]):t._e(),s("dialog",{staticClass:"modal",attrs:{id:"my_modal_1"}},[s("div",{staticClass:"modal-box"},[s("h3",{staticClass:"text-lg font-bold"},[t._v("删除文章!")]),s("p",{staticClass:"py-4"},[t._v("确定要删除吗？")]),s("div",{staticClass:"modal-action"},[s("form",{attrs:{method:"dialog"}},[s("button",{staticClass:"btn",on:{click:function(s){return t.Delart()}}},[t._v("删除")])]),t._m(2)])])]),this.$store.state.posts.length>0?t._e():s("span",{staticClass:"loading loading-infinity loading-lg"})])},i=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"flex items-center gap-4"},[s("div",{staticClass:"skeleton w-24 h-24 shrink-0 rounded-full"}),s("div",{staticClass:"flex flex-col gap-4"},[s("div",{staticClass:"skeleton h-4 w-20"}),s("div",{staticClass:"skeleton h-4 w-28"}),s("div",{staticClass:"skeleton h-4 w-20"})])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"alert alert-info"},[s("span",[t._v("删除成功")])])},function(){var t=this,s=t._self._c;return s("form",{attrs:{method:"dialog"}},[s("button",{staticClass:"btn"},[t._v("取消")])])}],l=(a(4114),a(1123)),r={name:"Individual",data(){return{isAlertVisible:!1,isloadings:!0,userload:!0,art_uuid:null,author_Byid:null,themes:["light","dark","cupcake","bumblebee","emerald","corporate","synthwave","retro","cyberpunk","valentine","halloween","garden","forest","aqua","lofi","pastel","fantasy","wireframe","black","luxury","dracula","cmyk","autumn","business","acid","lemonade","night","coffee","winter","dim","nord","sunset"]}},methods:{vuti(t){this.$store.commit("setTheme",t)},changeTheme(t){console.log(t,"changeTheme")},viewPost(t){this.$router.push({name:"ArticleView"}),this.$store.commit("setView",t),this.$store.commit("setbacktext","")},editProfile(){this.$router.push({name:"EditProfile"}),this.$store.commit("setbacktext","编辑资料")},changePassword(){this.$router.push({name:"UpdatePassword"}),this.$store.commit("setbacktext","修改密码")},getIddel(t,s){this.art_uuid=t,this.author_Byid=s,my_modal_1.showModal()},addarticle(t){this.$router.push({name:"AddArticle",params:{articleId:this.user.Byid}}),this.$store.commit("setbacktext","发布文章")},async Delart(){try{const t=await(0,l.vl)(this.art_uuid,this.author_Byid);t&&(this.$store.commit("setPosts",t),this.isAlertVisible=!0,setTimeout((()=>{this.isAlertVisible=!1}),1e3))}catch(t){this.isAlertVisible=!0}}},computed:{user(){return this.$store.state.user},posts(){return this.$store.state.posts}},async created(){try{if(this.$store.state.posts.length<=0){const t=await(0,l.NM)("8e4e23fd-4f60-4373-aa2c-a9e905d119f7"),s=await(0,l.AX)("8e4e23fd-4f60-4373-aa2c-a9e905d119f7");this.userload=!0,t&&this.$store.commit("setUser",t),0!=s.length?(this.$store.commit("setPosts",s),this.userload=!1,console.log(66666)):(this.userload=!0,console.log(2222222))}}catch(t){this.userload=!0}}},o=r,n=a(1656),c=(0,n.A)(o,e,i,!1,null,null,null),d=c.exports}}]);
//# sourceMappingURL=483.16555230.js.map